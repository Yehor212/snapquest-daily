import{c as w,j as e,$ as k,a0 as N,a1 as v,a2 as E,m as x,a3 as D,U as g,C as T,K as A,r as u,a4 as I,a5 as L,a6 as S,a7 as O,a8 as P,B as h,a9 as U,n as J,p as $,aa as R,ab as z,ac as B}from"./index-BgocD5L7.js";import{U as _}from"./index-CIdSBVH7.js";import{A as H}from"./arrow-right-DV8F44hQ.js";import{E as q}from"./EmptyState-Dpx81chM.js";import{A as F}from"./arrow-left-5QuJQRnE.js";import{P as C}from"./plus-CeFGGa51.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=w("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function K({value:a,onChange:i,length:r=8,onComplete:o}){const c=l=>{const t=l.toUpperCase();i(t),t.length===r&&o&&o(t)},n=Math.floor(r/2);return e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs(k,{maxLength:r,value:a,onChange:c,className:"gap-2",children:[e.jsx(N,{children:Array.from({length:n}).map((l,t)=>e.jsx(v,{index:t,className:"w-10 h-12 text-lg font-mono uppercase bg-secondary border-border"},t))}),e.jsx(E,{}),e.jsx(N,{children:Array.from({length:r-n}).map((l,t)=>e.jsx(v,{index:t+n,className:"w-10 h-12 text-lg font-mono uppercase bg-secondary border-border"},t+n))})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Введите ",r,"-значный код приглашения"]})]})}function y({event:a,onClick:i}){const o=new Date(a.startDate).toLocaleDateString("ru-RU",{day:"numeric",month:"short"}),c={draft:"bg-yellow-500/20 text-yellow-400",active:"bg-green-500/20 text-green-400",completed:"bg-muted text-muted-foreground"},n={draft:"Черновик",active:"Активно",completed:"Завершено"};return e.jsxs(x.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,className:"bg-card rounded-2xl border border-border overflow-hidden cursor-pointer group",children:[e.jsxs("div",{className:"relative h-32 overflow-hidden",children:[a.coverImage?e.jsx("img",{src:a.coverImage,alt:a.name,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-accent/20"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:"px-2 py-1 rounded-full bg-black/50 backdrop-blur-sm text-xs font-medium",children:_.events.eventTypes[a.eventType]})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c[a.status]}`,children:n[a.status]})}),e.jsx("div",{className:"absolute bottom-3 right-3",children:e.jsx("span",{className:"px-2 py-1 rounded bg-white/20 backdrop-blur-sm text-xs font-mono",children:a.accessCode})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-display text-lg font-bold mb-1 group-hover:text-primary transition-colors",children:a.name}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 mb-4",children:a.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(D,{className:"w-4 h-4"}),o]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(g,{className:"w-4 h-4"}),a.participantsCount]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"w-4 h-4"}),a.challenges.length]})]}),e.jsx(A,{className:"w-5 h-5 text-muted-foreground group-hover:text-primary group-hover:translate-x-1 transition-all"})]})]})]})}function M({open:a,onOpenChange:i,onJoin:r}){const[o,c]=u.useState(""),[n,l]=u.useState(null),[t,d]=u.useState(null),p=j=>{c(j),l(null),d(null)},f=j=>{const b=U(j);b?(d(b),l(null)):(l("Событие не найдено. Проверьте код."),d(null))},s=()=>{t&&(r(t),i(!1),c(""),d(null))},m=()=>{i(!1),c(""),l(null),d(null)};return e.jsx(I,{open:a,onOpenChange:m,children:e.jsxs(L,{className:"sm:max-w-md",children:[e.jsxs(S,{children:[e.jsx(O,{className:"text-center",children:"Присоединиться к событию"}),e.jsx(P,{className:"text-center",children:"Введите код приглашения, полученный от организатора"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-6 py-4",children:[e.jsx(K,{value:o,onChange:p,onComplete:f}),n&&e.jsxs(x.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 text-sm text-destructive",children:[e.jsx(G,{className:"w-4 h-4"}),n]}),t&&e.jsxs(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"w-full p-4 rounded-xl bg-secondary border border-border",children:[e.jsx("h4",{className:"font-medium mb-1",children:t.name}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:t.description}),e.jsx("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(g,{className:"w-4 h-4"}),t.participantsCount," участников"]})})]}),e.jsxs(h,{onClick:s,disabled:!t,className:"w-full gap-2",children:["Присоединиться",e.jsx(H,{className:"w-4 h-4"})]})]})]})})}function ee(){const a=J(),{toast:i}=$(),[r,o]=u.useState(!1),n=[...R(),...z],l=n.filter(s=>s.status==="active"),t=n.filter(s=>s.status==="draft"),d=n.filter(s=>s.status==="completed"),p=s=>{a(`/events/${s}`)},f=s=>{i({title:"Вы присоединились!",description:`Добро пожаловать на "${s.name}"`}),a(`/events/${s.id}`)};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"sticky top-0 z-40 bg-background/80 backdrop-blur-lg border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsx(h,{variant:"ghost",size:"icon",onClick:()=>a(-1),children:e.jsx(F,{className:"w-5 h-5"})}),e.jsx("h1",{className:"font-display text-lg font-semibold",children:"Мои события"}),e.jsx(h,{variant:"ghost",size:"icon",onClick:()=>a("/events/create"),children:e.jsx(C,{className:"w-5 h-5"})})]})}),e.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-secondary border border-border mb-4",children:[e.jsx(g,{className:"w-4 h-4 text-gold"}),e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Фото-игры для компаний"})]}),e.jsx("h2",{className:"font-display text-2xl font-bold mb-2",children:"Приватные события"}),e.jsx("p",{className:"text-muted-foreground text-sm max-w-md mx-auto",children:"Создавайте фото-челленджи для свадеб, вечеринок и тимбилдингов"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(h,{variant:"outline",className:"flex-1 gap-2",onClick:()=>o(!0),children:[e.jsx(B,{className:"w-4 h-4"}),"Присоединиться"]}),e.jsxs(h,{className:"flex-1 gap-2 bg-gradient-to-r from-primary to-accent",onClick:()=>a("/events/create"),children:[e.jsx(C,{className:"w-4 h-4"}),"Создать"]})]}),l.length>0&&e.jsxs("section",{children:[e.jsx("h3",{className:"font-display text-lg font-bold mb-4",children:"Активные события"}),e.jsx("div",{className:"space-y-4",children:l.map((s,m)=>e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.1},children:e.jsx(y,{event:s,onClick:()=>p(s.id)})},s.id))})]}),t.length>0&&e.jsxs("section",{children:[e.jsx("h3",{className:"font-display text-lg font-bold mb-4",children:"Черновики"}),e.jsx("div",{className:"space-y-4",children:t.map((s,m)=>e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.1},children:e.jsx(y,{event:s,onClick:()=>p(s.id)})},s.id))})]}),d.length>0&&e.jsxs("section",{children:[e.jsx("h3",{className:"font-display text-lg font-bold mb-4",children:"Завершённые"}),e.jsx("div",{className:"space-y-4",children:d.map((s,m)=>e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.1},children:e.jsx(y,{event:s,onClick:()=>p(s.id)})},s.id))})]}),n.length===0&&e.jsx(q,{icon:g,title:"Нет событий",description:"Создайте своё первое событие или присоединитесь к существующему",actionLabel:"Создать событие",onAction:()=>a("/events/create")})]}),e.jsx(M,{open:r,onOpenChange:o,onJoin:f})]})}export{ee as default};
