import{c as P,r as c,j as e,a as L,n as O,p as V,B as l,m,L as p,aq as h,Q as z,s as N,ar as B,as as F}from"./index-BgocD5L7.js";import{S as M,a as $,b as U,c as X,d as _}from"./select-Bzwl8dST.js";import{U as y}from"./index-CIdSBVH7.js";import{A as q}from"./arrow-left-5QuJQRnE.js";import{P as H}from"./plus-CeFGGa51.js";import{A as Q}from"./arrow-right-DV8F44hQ.js";import"./index-hNpJUuTw.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=P("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),w=c.forwardRef(({className:d,...u},a)=>e.jsx("textarea",{className:L("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",d),ref:a,...u}));w.displayName="Textarea";const J=[{title:"Групповое фото",description:"Соберите всех вместе!",xpReward:50},{title:"Селфи с организатором",description:"Найдите хозяина праздника",xpReward:40},{title:"Лучший момент",description:"Поймайте самый яркий кадр",xpReward:60}];function ae(){const d=O(),{toast:u}=V(),[a,f]=c.useState(1),[o,C]=c.useState(""),[x,k]=c.useState(""),[j,S]=c.useState("party"),[i,g]=c.useState(J),R=()=>{g([...i,{title:"",description:"",xpReward:30}])},T=s=>{g(i.filter((t,r)=>r!==s))},v=(s,t,r)=>{const n=[...i];n[s]={...n[s],[t]:r},g(n)},I=()=>{a<3&&f(a+1)},b=()=>{a>1?f(a-1):d("/events")},A=()=>{const s=N(),t=B(),r={id:s,name:o,description:x,accessCode:t,creatorId:"user-1",eventType:j,startDate:new Date().toISOString(),endDate:new Date(Date.now()+24*60*60*1e3).toISOString(),createdAt:new Date().toISOString(),participantsCount:1,status:"active",challenges:i.filter(n=>n.title).map((n,E)=>({id:N(),eventId:s,title:n.title,description:n.description||"",order:E+1,xpReward:n.xpReward||30}))};F(r),u({title:"Событие создано!",description:`Код доступа: ${t}`}),d(`/events/${s}`)},D=a===1?o.trim().length>0:!0;return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"sticky top-0 z-40 bg-background/80 backdrop-blur-lg border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsx(l,{variant:"ghost",size:"icon",onClick:b,children:e.jsx(q,{className:"w-5 h-5"})}),e.jsx("h1",{className:"font-display text-lg font-semibold",children:"Создать событие"}),e.jsx("div",{className:"w-10"})]})}),e.jsxs("main",{className:"container mx-auto px-4 py-6",children:[e.jsx("div",{className:"flex items-center justify-center gap-2 mb-8",children:[1,2,3].map(s=>e.jsx("div",{className:`w-3 h-3 rounded-full transition-colors ${s<=a?"bg-primary":"bg-secondary"}`},s))}),a===1&&e.jsxs(m.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6 max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"font-display text-2xl font-bold mb-2",children:"Основная информация"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Дайте название вашему событию"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"name",children:"Название события *"}),e.jsx(h,{id:"name",placeholder:"Например: Свадьба Анны и Максима",value:o,onChange:s=>C(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"description",children:"Описание"}),e.jsx(w,{id:"description",placeholder:"Расскажите гостям о событии",value:x,onChange:s=>k(s.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"type",children:"Тип события"}),e.jsxs(M,{value:j,onValueChange:s=>S(s),children:[e.jsx($,{children:e.jsx(U,{})}),e.jsx(X,{children:Object.entries(y.events.eventTypes).map(([s,t])=>e.jsx(_,{value:s,children:t},s))})]})]})]})]}),a===2&&e.jsxs(m.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6 max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"font-display text-2xl font-bold mb-2",children:"Задания"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Добавьте фото-челленджи для гостей"})]}),e.jsxs("div",{className:"space-y-4",children:[i.map((s,t)=>e.jsxs(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl border border-border bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["Задание ",t+1]}),i.length>1&&e.jsx(l,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>T(t),children:e.jsx(G,{className:"w-4 h-4 text-destructive"})})]}),e.jsx(h,{placeholder:"Название задания",value:s.title||"",onChange:r=>v(t,"title",r.target.value)}),e.jsx(h,{placeholder:"Описание (необязательно)",value:s.description||"",onChange:r=>v(t,"description",r.target.value)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"text-xs",children:"XP:"}),e.jsx(h,{type:"number",className:"w-20",value:s.xpReward||30,onChange:r=>v(t,"xpReward",parseInt(r.target.value)||30)})]})]},t)),e.jsxs(l,{variant:"outline",className:"w-full gap-2",onClick:R,children:[e.jsx(H,{className:"w-4 h-4"}),"Добавить задание"]})]})]}),a===3&&e.jsxs(m.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6 max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"font-display text-2xl font-bold mb-2",children:"Всё готово!"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Проверьте информацию перед созданием"})]}),e.jsxs("div",{className:"p-6 rounded-2xl border border-border bg-card space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Название"}),e.jsx("p",{className:"font-medium",children:o})]}),x&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Описание"}),e.jsx("p",{children:x})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Тип"}),e.jsx("p",{children:y.events.eventTypes[j]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Задания"}),e.jsxs("p",{children:[i.filter(s=>s.title).length," шт."]})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"После создания вы получите уникальный код для приглашения гостей"})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-background border-t border-border",children:e.jsxs("div",{className:"container mx-auto max-w-md flex gap-3",children:[a>1&&e.jsx(l,{variant:"outline",onClick:b,className:"flex-1",children:"Назад"}),a<3?e.jsxs(l,{onClick:I,disabled:!D,className:"flex-1 gap-2",children:["Далее",e.jsx(Q,{className:"w-4 h-4"})]}):e.jsxs(l,{onClick:A,className:"flex-1 gap-2 bg-gradient-to-r from-primary to-accent",children:[e.jsx(z,{className:"w-4 h-4"}),"Создать событие"]})]})})]})]})}export{ae as default};
