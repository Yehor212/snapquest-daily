import{c as L,r as l,j as e,a as w,i as O,l as V,B as d,m as u,K as z,o as N,as as B,at as F}from"./index-BE_vF9cb.js";import{L as f}from"./label-pvv71GK8.js";import{S as M,a as $,b as U,c as X,d as _}from"./select-DdhBIZ68.js";import{U as y}from"./index-CIdSBVH7.js";import{A as H}from"./arrow-left-C_UnaP_M.js";import{P as K}from"./plus-BvGRCjp1.js";import{A as q}from"./arrow-right-B3nEygzG.js";import"./index-Xb8mjM3N.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=L("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),x=l.forwardRef(({className:c,type:o,...t},m)=>e.jsx("input",{type:o,className:w("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",c),ref:m,...t}));x.displayName="Input";const C=l.forwardRef(({className:c,...o},t)=>e.jsx("textarea",{className:w("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",c),ref:t,...o}));C.displayName="Textarea";const J=[{title:"Групповое фото",description:"Соберите всех вместе!",xpReward:50},{title:"Селфи с организатором",description:"Найдите хозяина праздника",xpReward:40},{title:"Лучший момент",description:"Поймайте самый яркий кадр",xpReward:60}];function re(){const c=O(),{toast:o}=V(),[t,m]=l.useState(1),[p,k]=l.useState(""),[h,S]=l.useState(""),[g,R]=l.useState("party"),[i,j]=l.useState(J),I=()=>{j([...i,{title:"",description:"",xpReward:30}])},T=s=>{j(i.filter((a,r)=>r!==s))},v=(s,a,r)=>{const n=[...i];n[s]={...n[s],[a]:r},j(n)},A=()=>{t<3&&m(t+1)},b=()=>{t>1?m(t-1):c("/events")},D=()=>{const s=N(),a=B(),r={id:s,name:p,description:h,accessCode:a,creatorId:"user-1",eventType:g,startDate:new Date().toISOString(),endDate:new Date(Date.now()+24*60*60*1e3).toISOString(),createdAt:new Date().toISOString(),participantsCount:1,status:"active",challenges:i.filter(n=>n.title).map((n,P)=>({id:N(),eventId:s,title:n.title,description:n.description||"",order:P+1,xpReward:n.xpReward||30}))};F(r),o({title:"Событие создано!",description:`Код доступа: ${a}`}),c(`/events/${s}`)},E=t===1?p.trim().length>0:!0;return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"sticky top-0 z-40 bg-background/80 backdrop-blur-lg border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsx(d,{variant:"ghost",size:"icon",onClick:b,children:e.jsx(H,{className:"w-5 h-5"})}),e.jsx("h1",{className:"font-display text-lg font-semibold",children:"Создать событие"}),e.jsx("div",{className:"w-10"})]})}),e.jsxs("main",{className:"container mx-auto px-4 py-6",children:[e.jsx("div",{className:"flex items-center justify-center gap-2 mb-8",children:[1,2,3].map(s=>e.jsx("div",{className:`w-3 h-3 rounded-full transition-colors ${s<=t?"bg-primary":"bg-secondary"}`},s))}),t===1&&e.jsxs(u.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6 max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"font-display text-2xl font-bold mb-2",children:"Основная информация"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Дайте название вашему событию"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"name",children:"Название события *"}),e.jsx(x,{id:"name",placeholder:"Например: Свадьба Анны и Максима",value:p,onChange:s=>k(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"description",children:"Описание"}),e.jsx(C,{id:"description",placeholder:"Расскажите гостям о событии",value:h,onChange:s=>S(s.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"type",children:"Тип события"}),e.jsxs(M,{value:g,onValueChange:s=>R(s),children:[e.jsx($,{children:e.jsx(U,{})}),e.jsx(X,{children:Object.entries(y.events.eventTypes).map(([s,a])=>e.jsx(_,{value:s,children:a},s))})]})]})]})]}),t===2&&e.jsxs(u.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6 max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"font-display text-2xl font-bold mb-2",children:"Задания"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Добавьте фото-челленджи для гостей"})]}),e.jsxs("div",{className:"space-y-4",children:[i.map((s,a)=>e.jsxs(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl border border-border bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["Задание ",a+1]}),i.length>1&&e.jsx(d,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>T(a),children:e.jsx(G,{className:"w-4 h-4 text-destructive"})})]}),e.jsx(x,{placeholder:"Название задания",value:s.title||"",onChange:r=>v(a,"title",r.target.value)}),e.jsx(x,{placeholder:"Описание (необязательно)",value:s.description||"",onChange:r=>v(a,"description",r.target.value)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"text-xs",children:"XP:"}),e.jsx(x,{type:"number",className:"w-20",value:s.xpReward||30,onChange:r=>v(a,"xpReward",parseInt(r.target.value)||30)})]})]},a)),e.jsxs(d,{variant:"outline",className:"w-full gap-2",onClick:I,children:[e.jsx(K,{className:"w-4 h-4"}),"Добавить задание"]})]})]}),t===3&&e.jsxs(u.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6 max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"font-display text-2xl font-bold mb-2",children:"Всё готово!"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Проверьте информацию перед созданием"})]}),e.jsxs("div",{className:"p-6 rounded-2xl border border-border bg-card space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Название"}),e.jsx("p",{className:"font-medium",children:p})]}),h&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Описание"}),e.jsx("p",{children:h})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Тип"}),e.jsx("p",{children:y.events.eventTypes[g]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Задания"}),e.jsxs("p",{children:[i.filter(s=>s.title).length," шт."]})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"После создания вы получите уникальный код для приглашения гостей"})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-background border-t border-border",children:e.jsxs("div",{className:"container mx-auto max-w-md flex gap-3",children:[t>1&&e.jsx(d,{variant:"outline",onClick:b,className:"flex-1",children:"Назад"}),t<3?e.jsxs(d,{onClick:A,disabled:!E,className:"flex-1 gap-2",children:["Далее",e.jsx(q,{className:"w-4 h-4"})]}):e.jsxs(d,{onClick:D,className:"flex-1 gap-2 bg-gradient-to-r from-primary to-accent",children:[e.jsx(z,{className:"w-4 h-4"}),"Создать событие"]})]})})]})]})}export{re as default};
